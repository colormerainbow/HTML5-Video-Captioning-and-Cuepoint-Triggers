<!doctype html>
<html lang=en>
<head>
<title>Accessible HTML5 video demo: how to leverage a synergy.</title>
<meta charset=utf-8>

<!--[if IE]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->


<link rel="stylesheet" type="text/css" href="main.css" />

</head>

<body>
<h1>HTML5 Video with JS synchronized captions AND timed cuepoints: demo</h1>

<div id="container">

<div class="col1">
	
	<video id="vid" width="352"  ontimeupdate="onTimeupdate()">
		<source src="leverage-a-synergy.mp4"  type="video/mp4"  />
		<source src="leverage-a-synergy.webm" type="video/webm" />
		<source src="leverage-a-synergy.ogv" type="video/ogg" />
		
		<object width="352" height="288" type="application/x-shockwave-flash" data="player.swf">
			<param name="movie" value="player.swf" />
			<param name="flashvars" 
			value="autostart=true&amp;image=poster.jpg&amp;file=leverage-a-synergy.mp4" />
			
			<!-- final fallback to text -->
			<h2>How to leverage a synergy</h2>
			<p>Hi, my name's Dr Archimedes Einstein and I'm a Doctor of Science at the University of Science in a very famous town that you're too stupid to have heard of. Anyway, today we're going to talk about "synergies". A lot of people are worried about synergies, but I can tell you that statistics show there is no danger of increased cancer risk from synergies. However, it's better to be safe than sorry. I'm going to demonstrate how you how we can leverage a synergy.
			</p>
			<p>First of all, I've got this banana. This banana represents "Web 2.0" and look, I've written on it some "user-generated content" just to prove the point [LOL, WTF, You suck]. I take my "Web 2.0" and I put it in an envelope marked "paradigm shift". OK. Very important, I put the envelope down and With a bit of "blue sky thinking", I "push the envelope". Then, I take my leverage mallet, and URGH! RGRRRRRARGRGGH!! EURGGGARRRRGGGRRGARGGAHAARRAGGHGRRAGAHAARGH!!!! ...and there we can see a synergy, leveraged.
			</p>	
		</object>
	</video>
	
	
	<div id="controls">
		<form id="video_form">
			<fieldset>
				<input type="button" id="play_button" onclick="playVideo(vid)" value="Play" />
				<input type="button" id="pause_button" onclick="pauseVideo(vid)" value="Pause" disabled />    
				<input type="button" id="mute" onclick="muteVid(vid)" value="Mute" />
				<input type="button" id="unmute" onclick="unmuteVid(vid)" value="Unmute" />
				<input type="button" id="rewind" onclick="seekVideo(vid, 0)" value="Beginning" />
				<input type="button" id="end" onclick="seekVideo(vid, 57)" value="End" />
				<input type="button" id="seek" onclick="seekVideo(vid, 14)" value="Go to Statistics" />
			</fieldset>
			<fieldset>
				<select name="video_select" onchange="selectVideo(vid);">
					<option>Select a video to play...</option>      
					<option value="leverage-a-synergy.mp4">Leverage(mp4)</option>      
					<option value="leverage-a-synergy.ogv">Leverage(ogv)</option>
					<option value="leverage-a-synergy.webm">Leverage(webm)</option>      
				</select> 
			</fieldset>
		</form>
	</div>  
	
	<div id="special">
		<form>
			<fieldset>
					<legend>Currently, these only work in Safari</legend>
				<input type=button id="rw" onclick="playRate(vid,-2)" value="<< rewind" />
				<input type=button id="ff" onclick="playRate(vid,2)" value="fast forward >>" />
				<input type=button id="slo" onclick="playRate(vid,.5)" value="slo mo >" />
			</fieldset>
		</form>
	</div>





	<div id="transcript">
	<h3>Transcript</h3>
	<p>
	<span data-begin=1 data-end=6>Hi, my name's Dr Archimedes Einstein and I'm a Doctor of Science at the University of Science</span>
	<span data-begin=6 data-end=9>in a very famous town that you're too stupid to have heard of.</span>
	<span data-begin=9.5 data-end=11.5>Anyway, today we're going to talk about "synergies".</span>

	<span data-begin=12 data-end=14>A lot of people are worried about synergies, but I can tell you that</span>
	<span data-begin=15 data-end=16>statistics show</span>
	<span data-begin=16 data-end=19>there is no danger of increased cancer risk from synergies.</span>
	<span data-begin=19.5 data-end=21.5>However, it's better to be safe than sorry.</span>
	<span data-begin=22 data-end=25> I'm going to demonstrate how you how we can leverage a synergy.</span>
	</p>
	<p>
	<span data-begin=25 data-end=26.5>First of all, I've got this banana</span>
	<span data-begin=26.5 data-end=29>This banana represents "Web 2.0" and look,</span>
	<span data-begin=29 data-end=32>I've written on it some "user-generated content"</span>
	<span data-begin=32 data-end=34>just to prove the point [You Suck, WTF, LOL]
	</span>
	<span data-begin=34 data-end=37>I take my "Web 2.0" and I put it in an envelope</span>
	<span data-begin=37 data-end=39>marked "paradigm shift".</span>
	<span data-begin=39 data-end=44>OK. Very important, I put the envelope down and</span>
	<span data-begin=44.5 data-end=46>With a bit of "blue sky thinking"</span>
	<span data-begin=46.4 data-end=48>I "push the envelope"</span>
	<span data-begin=48 data-end=50>Then, I take my leverage mallet, and</span>
	<span data-begin=50.3 data-end=51>URGH!</span>
	<span data-begin=51 data-end=52>RGRRRRRARGRGGH!!</span>
	<span data-begin=52 data-end=53>EURGGGARRRRGGGRRGARGG!! AHAARRAGGHGRRAGAHAARGH!!!!</span>
	<span data-begin=52 data-end=56.5>...and there we can see a synergy, leveraged.</span>
	</p>
	</div>

<div class="pop"><p>Test This!</p></div>
</div>

<div class="col2">
	<iframe id="web" src=""></iframe>
</div>

</div>

<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="captions.js"></script>
<script src="cuepoints.js"></script>

<script type="text/javascript">
	
	$('document').ready(function(){
		
		var vid = $('#vid');
		$('#caption').width(352);
		$('.pop').fadeOut(0);
		
		var myCues = [
		
			[2, func1], 
			[9, func2], 
			[15, func3],
			[25, func6],
			[37, func4],
			[50, func5]
			
		];
			
		__CueTimer.create('vid', myCues);
		__VidCaptioner.create('vid', 'transcript');
		
	});
	
	
	
	//the callback function to trigger when a cuepoint is hit
	//warning! In firefox alerts seem to be called multiple times, 
	//yet the function only registers being called once.
	function func1()
	{
		//alert('cue 1 fired');
		$('#vid').css('outline', '10px solid red');
		$('#caption').width(352);
	}
	
	function func2()
	{
		$('.pop').html('<p>Ohh Snap!</p>');
		$('.pop').fadeIn(0);
		$('.pop').fadeOut(4000);
	}
	
	function func3()
	{
		$('#vid').css('outline', '0px solid red');
		$('.pop').html('<p>E=MC<sup>2</sup> is NOT Statistical Data!!</p>');
		$('.pop').fadeIn(1000);
		$('.pop').fadeOut(4000);
		$('#web').attr('src', 'http://www.aip.org/history/einstein/emc1.htm');
	}
	
	function func4()
	{
		$('#web').attr('src', 'http://en.wikipedia.org/wiki/Paradigm_shift');
	}
	
	function func5()
	{
		$('#web').attr('src', 'http://en.wikipedia.org/wiki/Domestic_violence');
	}
	
	function func6()
	{
		$('#web').attr('src', 'images/koljr-banana-splits-400.jpg');
	}
	
</script>

<script>

	var vid = document.getElementById('vid');
	var play_button = document.getElementById('play_button');
	var pause_button = document.getElementById('pause_button');
	
	
	function selectVideo(clip) {
		clip.src = video_form.video_select.value;
		play_button.disabled = false;
		pause_button.disabled = true;
		clip.load();
		PlayVideo(clip);
	}

	function playVideo(clip) {
		clip.play();
		play_button.disabled = true;
		pause_button.disabled = false;      
	}

	function seekVideo(clip, position) {
		if(!position) position = 0;
		clip.currentTime = position;
		clip.play();
		 play_button.disabled = false;  
		 pause_button.disabled = true;     
	}

	function pauseVideo(clip) {
	  clip.pause();
	  play_button.disabled = false;  
	  pause_button.disabled = true;          
	}

	function muteVid(clip) {
	  clip.muted = true;
	}

	function unmuteVid(clip) {
	  clip.muted = false;
	}

	function onFinished(clip) {
	clip.currentTime = 0;
	  play_button.disabled = false;
	  pause_button.disabled = true;          
	}

	function onTimeupdate(clip) {
	var current = document.getElementById('vid').currentTime;
	//document.getElementById('slider').value = current;
	}

	function playRate(clip, rate) {
	clip.playbackRate = rate;
	}

</script>

</body>
</html>